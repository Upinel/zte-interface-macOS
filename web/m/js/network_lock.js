define(["service","jquery","configPath"],function(o,e,r){function i(){showLoading(),o.unlockNetwork({unlock_network_code:t.val()},function(e){if(t.val(""),e&&"success"==e.result)"#/network_lock"==window.location.hash?(hideLoading(),window.location.hash="#/home"):window.location.reload();else{n(o.getNetworkUnlockTimes().unlock_nck_time),errorOverlay()}})}function n(o){0==o?(_.show(),a.hide(),l.hide()):(s.text(o),_.hide(),a.show(),l.show())}function c(){if(a=e("#divLogo"),t=e("#txtUnlockCode"),s=e("#unlockTime"),l=e("#frmNetworkLock"),_=e("#divNoTimes"),_.hide(),a.hide(),l.hide(),"modem_imsi_waitnck"!=r.SIM_CARD_STATUS)return"#/network_lock"==window.location.hash?(hideLoading(),void(window.location.hash="#/home")):void window.location.reload();if(r.NETWORK_UNLOCK_SUPPORT){n(o.getNetworkUnlockTimes().unlock_nck_time)}else n(0);e("#btnUnlockApply").off("click").on("click",function(){l.submit()}),l.validate({submitHandler:function(){i()},rules:{txtUnlockCode:"unlock_code_check"}}),e("#rejectBtn").off("click").on("click",function(){o.logout({},function(){window.location.reload()})}),e("#finishBtn").off("click").on("click",function(){var i={privacy_read_flag:"1"};o.setHaveReadPrivacyNote(i,function(o){o&&"success"==o.result&&(e("#privacy_policy").addClass("hide"),e("#privacy_policy").popup("close"),r.HAS_USER_IMPROVEMENT&&(e("#user_improv").removeClass("hide"),e("#user_improv").popup("open")))})}),e("#isAllowedUserImprov").off("click").on("click",function(){e('label[for="isAllowedUserImprov"]').hasClass("ui-checkbox-on")?(e("#isAllowedUserImprov").attr("checked",!1),e('label[for="isAllowedUserImprov"]').addClass("ui-checkbox-off")):(e("#isAllowedUserImprov").attr("checked",!0),e('label[for="isAllowedUserImprov"]').addClass("ui-checkbox-on"))}),e("#confirmBtn").off("click").on("click",function(){var r={tr069_user_improv_flag:e('label[for="isAllowedUserImprov"]').hasClass("ui-checkbox-on")?"1":"0"};o.setUserImprovNote(r,function(o){o&&"success"==o.result&&(e("#user_improv").addClass("hide"),e("#user_improv").popup("close"),e("#user_grant").removeClass("hide"),e("#user_grant").popup("open"))})}),e("#userGrantRejectBtn").off("click").on("click",function(){var r={dm_user_grant_flag:"0"};o.setUserGrantNote(r,function(r){"1"==o.getParams({nv:["dm_user_grant_notify_flag"]}).dm_user_grant_notify_flag&&(e("#user_grant").addClass("hide"),e("#user_grant").popup("close"))})}),e("#userGrantAcceptBtn").off("click").on("click",function(){var r={dm_user_grant_flag:"1"};o.setUserGrantNote(r,function(r){"1"==o.getParams({nv:["dm_user_grant_notify_flag"]}).dm_user_grant_notify_flag&&(e("#user_grant").addClass("hide"),e("#user_grant").popup("close"))})}),r.HAS_GDPR?(e("#privacy_span").show(),e("#privacy_a").show()):(e("#privacy_span").hide(),e("#privacy_a").hide()),setTimeout(function(){var i=o.getParams({nv:["privacy_read_flag","tr069_user_improv_notify_flag","dm_user_grant_notify_flag"]});"0"==i.privacy_read_flag&&r.HAS_GDPR?(e("#privacy_policy").removeClass("hide"),e("#privacy_policy").popup("open")):"0"==i.tr069_user_improv_notify_flag?(e("#user_improv").removeClass("hide"),e("#user_improv").popup("open")):"0"==i.dm_user_grant_notify_flag&&(e("#user_grant").removeClass("hide"),e("#user_grant").popup("open"))},1e3),"zh-cn"==o.getLanguage().Language?e("#privacy_a").attr("href","https://www.ztedevices.com/cn/Privacy-Policy/ZTESmartRouterPrivacyPolicy"):e("#privacy_a").attr("href","https://www.ztedevices.com/en/Privacy-Policy/ZTESmartRouterPrivacyPolicy")}var a,t,s,l,_;return{init:c}});
//# sourceMappingURL=../../sourcemaps/m/network_lock.js.map

define(["jquery","knockout","config/config","service","underscore"],function(e,n,o,t,r){function i(){var o=this,r=t.getsleepProtection();o.sleepProtectionEnable=n.observable("1"==r.night_mode_switch?"1":"0"),o.openH=n.observable(r.openH),o.openM=n.observable(r.openM),o.closeH=n.observable(r.closeH),o.closeM=n.observable(r.closeM),o.nightMode=n.observable(r.night_mode_close_all_led),o.saveSleepProtection=function(){showLoading(),t.saveSleepProtection({sleepProtectionEnable:o.sleepProtectionEnable(),openTime:leftInsert(o.openH(),2,"0")+":"+leftInsert(o.openM(),2,"0"),closeTime:leftInsert(o.closeH(),2,"0")+":"+leftInsert(o.closeM(),2,"0"),night_mode_close_all_led:o.nightMode()},function(e){e&&"success"==e.result?successOverlay():errorOverlay()},e.noop)},o.setNightMode=function(){if(!e("#nightModeBtn").hasClass("disable")){var n=e("#nightMode:checked");n&&0==n.length?o.nightMode("1"):o.nightMode("0")}}}function s(){var o=e("#container");n.cleanNode(o[0]);var t=new i;n.applyBindings(t,e("#container")[0]),e("#frmSleepProtection").validate({submitHandler:function(){t.saveSleepProtection()},rules:{openH:{any_digits:!0,range:[0,23]},openM:{any_digits:!0,range:[0,59]},closeH:{any_digits:!0,range:[0,23]},closeM:{any_digits:!0,range:[0,59]}},errorPlacement:function(n,o){"openH"==o.attr("name")||"openM"==o.attr("name")?e("#openErrorDiv").html(n):"closeH"==o.attr("name")||"closeM"==o.attr("name")?e("#closeErrorDiv").html(n):n.insertAfter(o)}})}return{init:s}});
//# sourceMappingURL=../../sourcemaps/adm/sleep_protection_mode.js.map

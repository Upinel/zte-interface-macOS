define(["jquery","knockout","config/config","service","underscore"],function(e,t,n,o,r){function i(){var r=this,i=a();r.isDataCard="DATACARD"==n.PRODUCT_TYPE,r.watchDogSetting=t.observable(i.watchDogSetting),r.pingUrl=t.observable(i.linkUrl),r.rebootThreshold=t.observable(i.net_link_detect_ping_times),r.timeInterval=t.observable(i.net_link_detect_time_gap),r.net_link_detect_timeout=t.observable(i.net_link_detect_timeout),r.watch_dog_reboot_enable=t.observable(i.watch_dog_reboot_enable),r.clear=function(){_()},r.save=function(){showLoading();var t={};t.net_link_detect_enable=r.watchDogSetting(),t.net_link_detect_url=r.pingUrl(),t.net_link_detect_ping_times=r.rebootThreshold(),t.net_link_detect_time_gap=r.timeInterval(),t.net_link_detect_timeout=r.net_link_detect_timeout();var n=e("#rebootEnableCheckbox:checked");n&&0==n.length?t.watch_dog_reboot_enable="0":t.watch_dog_reboot_enable="1",o.setWatchDogSetting(t,function(e){"success"==e.result?(r.clear(),successOverlay()):(r.clear(),errorOverlay())})}}function a(){return o.getWatchDogSetting()}function _(){var n=e("#container");t.cleanNode(n[0]);var o=new i;t.applyBindings(o,n[0]),e("#watchDogSettingForm").validate({submitHandler:function(){o.save()},rules:{txtPingUrl:"sntp_invalid_server_name",txtRebootThreshold:{digits:!0,min:1},txtTimeInterval:"watch_dog_time_interval_check"},errorPlacement:function(e,t){"txtDetectTimeout"==t.attr("name")?e.appendTo("#errorTimeout"):"txtRebootThreshold"==t.attr("name")?e.appendTo("#errorThreshold"):"txtTimeInterval"==t.attr("name")?e.appendTo("#errorHolder"):e.insertAfter(t)}})}return{init:_}});
//# sourceMappingURL=../../sourcemaps/adm/watch_dog.js.map

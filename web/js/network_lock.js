define(["knockout","service","jquery","config/config","home","status/statusBar"],function(o,e,n,i,r,t){function c(){var r=this,c=e.getParams({nv:["OOM_TEMP_PRO"]}).OOM_TEMP_PRO;r.oom_temp_pro=c,r.deviceInfo=o.observable([]),r.showQRCode=i.WIFI_SUPPORT_QR_CODE,r.qrcodeSrc=i.WIFI_SUPPORT_QR_CODE?"./img/qrcode_ssid_wifikey.png?_="+n.now():"",r.isHomePage=o.observable(!1),"#home"==window.location.hash&&r.isHomePage(!0),r.supportUnlock=i.NETWORK_UNLOCK_SUPPORT,r.unlockCode=o.observable();var a=e.getNetworkUnlockTimes();r.times=o.observable(a.unlock_nck_time),setTimeout(function(){var o=e.getParams({nv:["privacy_read_flag","loginfo","tr069_user_improv_notify_flag","dm_user_grant_notify_flag"]});"0"==o.privacy_read_flag&&"ok"==o.loginfo&&i.HAS_GDPR?showModifyFotaWindow("change_mode","privacy_policy","privacy_policy",700,400,function(){}):"0"==o.tr069_user_improv_notify_flag&&"ok"==o.loginfo?showModifyFotaWindow("change_mode","user_improv","user_improv",700,400,function(){}):"0"==o.dm_user_grant_notify_flag&&"ok"==o.loginfo?showModifyFotaWindow("change_mode","user_grant","user_grant",700,400,function(){}):t.setRedirectTips(!0)},1e3),r.unlock=function(){showLoading(),e.unlockNetwork({unlock_network_code:r.unlockCode()},function(o){if(r.unlockCode(""),o&&"success"==o.result)successOverlay(),"#home"==window.location.hash?setTimeout(function(){window.location.reload()},500):window.location.hash="#home";else{var n=e.getNetworkUnlockTimes();r.times(n.unlock_nck_time),errorOverlay()}})}}function a(){var e=n("#container")[0];o.cleanNode(e);var i=new c;o.applyBindings(i,e),n("#frmNetworkLock").validate({submitHandler:function(){i.unlock()},rules:{txtLockNumber:"unlock_code_check"}})}return{init:a}});
//# sourceMappingURL=../sourcemaps/network_lock.js.map

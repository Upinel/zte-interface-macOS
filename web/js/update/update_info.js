define(["jquery","service","knockout","config/config","lib/jquery/jQuery.fileinput"],function(e,o,n,t,i){function r(){self.wanMode=t.opms_wan_mode,0==e(".customfile").length&&e("#fileField").customFileInput()}function a(){var o=e("#container")[0];n.cleanNode(o);var t=new r;n.applyBindings(t,o)}return fileUploadSubmitClickHandler=function(){var n=e(".customfile span.customfile-feedback").text();return n!=e.i18n.prop("no_file_selected")&&("root_uImage"!=n&&"modem.zip"!=n&&"root_uImage.bin"!=n?(showAlert("upgrade_file_nomatch"),!1):void showConfirm("upgrade_confirm",function(){var t="root_uImage"==n||"root_uImage.bin"==n?{goformId:"CPE_UPGRADE",time:18e4}:{goformId:"MODEM_UPGRADE",time:265e3};e("#fileUploadIframe").load(function(){if(-1!=e("#fileUploadIframe").contents().find("body").html().toLowerCase().indexOf("success")){var n={goformId:t.goformId};o.SendUpgradeMessage(n,function(e){"success"==e.result?(setTimeout(function(){window.location.href="#login"},t.time),document.getElementById("form_update").submit()):errorOverlay()})}else errorOverlay();e("#uploadBtn").attr("data-trans","browse_btn"),e("#uploadBtn").html(e.i18n.prop("browse_btn")),e(".customfile span.customfile-feedback").text("")}),showLoading("upgrading","","upgrading_alert"),document.UploadFirmware.submit()}))},{init:a}});
//# sourceMappingURL=../../sourcemaps/update/update_info.js.map

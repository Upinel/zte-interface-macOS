define(["jquery","knockout","config/config","service"],function(e,t,n,a){function r(t){addInterval(function(){var n=i();t.currentSent(transUnit(n.data_counter.currentSent,!1)),t.currentReceived(transUnit(n.data_counter.currentReceived,!1)),t.currentConnectedTime(transSecond2Time(n.data_counter.currentConnectedTime)),t.currentTraffic(transUnit(parseInt(n.data_counter.currentReceived,10)+parseInt(n.data_counter.currentSent,10),!1)),t.monthlySent(transUnit(n.data_counter.monthlySent,!1)),t.monthlyReceived(transUnit(n.data_counter.monthlyReceived,!1)),t.monthlyConnectedTime(transSecond2Time(n.data_counter.monthlyConnectedTime));var a=parseInt(n.data_counter.monthlySent,10)+parseInt(n.data_counter.monthlyReceived,10);t.monthlyTraffic(transUnit(a,!1)),t.up_Speed(transUnit(n.data_counter.uploadRate,!0)),t.down_Speed(transUnit(n.data_counter.downloadRate,!0)),t.limitVolumeEnable(n.limitVolumeEnable),t.dataLimitTypeChecked(n.limitVolumeType),t.dataUsed(t.monthlyTraffic()+o(a,n.limitDataMonth)),t.dataLeft(transUnit(n.limitDataMonth-a,!1)+o(n.limitDataMonth-a,n.limitDataMonth)),t.dataMonthly(transUnit(n.limitDataMonth,!1)),t.timeUsed(t.monthlyConnectedTime()+o(n.data_counter.monthlyConnectedTime,n.limitTimeMonth)),t.timeLeft(transSecond2Time(n.limitTimeMonth-n.data_counter.monthlyConnectedTime)+o(n.limitTimeMonth-n.data_counter.monthlyConnectedTime,n.limitTimeMonth)),t.timeMonthly(n.limitTimeMonth/60/60),"1"==t.dataLimitTypeChecked()&&(-1!=t.dataLeft().indexOf("-")?(t.leftMonthTrans("traffic_exceeded_month"),t.dataLeft(t.dataLeft().replace(/\-/g,""))):t.leftMonthTrans("traffic_left_month")),"0"==t.dataLimitTypeChecked()&&(-1!=t.timeLeft().indexOf("-")?(t.leftMonthTrans("traffic_exceeded_month"),t.timeLeft(t.timeLeft().replace(/\-/g,""))):t.leftMonthTrans("traffic_left_month")),e("#traffic_info_note").translate()},1e3)}function o(e,t){return"("+getPercent(e,t)+")"}function i(){return a.getConnectionInfo()}function c(){var e=this,r=i();e.supportClearData=t.observable(n.CLEAR_DATA_SUPPORT),e.currentSent=t.observable(transUnit(r.data_counter.currentSent,!1)),e.currentReceived=t.observable(transUnit(r.data_counter.currentReceived,!1)),e.currentConnectedTime=t.observable(transSecond2Time(r.data_counter.currentConnectedTime)),e.currentTraffic=t.observable(transUnit(parseInt(r.data_counter.currentReceived,10)+parseInt(r.data_counter.currentSent,10),!1)),e.monthlySent=t.observable(transUnit(r.data_counter.monthlySent,!1)),e.monthlyReceived=t.observable(transUnit(r.data_counter.monthlyReceived,!1)),e.monthlyConnectedTime=t.observable(transSecond2Time(r.data_counter.monthlyConnectedTime)),e.monthlyTraffic=t.observable(transUnit(parseInt(r.data_counter.monthlySent,10)+parseInt(r.data_counter.monthlyReceived,10),!1)),e.up_Speed=t.observable(transUnit(r.data_counter.uploadRate,!0)),e.down_Speed=t.observable(transUnit(r.data_counter.downloadRate,!0)),e.dataUsed=t.observable(e.monthlyTraffic()+"(0%)"),e.dataLeft=t.observable(transUnit(r.data_counter.downloadRate,!1)+"(100%)"),e.dataMonthly=t.observable("0B"),e.timeUsed=t.observable(e.monthlyConnectedTime()+"(0%)"),e.timeLeft=t.observable(transSecond2Time(r.data_counter.downloadRate)+"(100%)"),e.timeMonthly=t.observable("0"),e.limitVolumeEnable=t.observable(r.limitVolumeEnable),e.dataLimitTypeChecked=t.observable(r.limitVolumeType),e.leftMonthTrans=t.observable("traffic_left_month"),e.clearTraffic=function(){showLoading(),a.clearTraffic({},function(e){hideLoading(),"success"==e.result?successOverlay():errorOverlay()})}}function d(){var n=e("#container");t.cleanNode(n[0]);var a=new c;t.applyBindings(a,n[0]),r(a)}return{init:d}});
//# sourceMappingURL=../../sourcemaps/status/traffic_statistics.js.map

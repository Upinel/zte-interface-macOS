define(["jquery","knockout","config/config","service","underscore","status/statusBar"],function(e,t,i,a,o,n){function s(){function n(e,t){return""==t?e:e+";"+t}function s(e,t,i){function a(e,t,i){for(var a="",o=e;o<=t;o++)i[o]&&(a+=o==e?i[o]:";"+i[o]);return a}var o=e.split(";");switch(parseInt(t/5,10)){case 0:wifi_profile=e,wifi_profile1="",wifi_profile2="",wifi_profile3="",wifi_profile4="",wifi_profile5="";break;case 1:wifi_profile=a(0,4,o),wifi_profile1=a(5,9,o),wifi_profile2="",wifi_profile3="",wifi_profile4="",wifi_profile5="";break;case 2:wifi_profile=a(0,4,o),wifi_profile1=a(5,9,o),wifi_profile2=a(10,14,o),wifi_profile3="",wifi_profile4="",wifi_profile5="";break;case 3:wifi_profile=a(0,4,o),wifi_profile1=a(5,9,o),wifi_profile2=a(10,14,o),wifi_profile3=a(15,19,o),wifi_profile4="",wifi_profile5="";break;case 4:wifi_profile=a(0,4,o),wifi_profile1=a(5,9,o),wifi_profile2=a(10,14,o),wifi_profile3=a(15,19,o),wifi_profile4=a(20,24,o),wifi_profile5="";break;case 5:case 6:wifi_profile=a(0,4,o),wifi_profile1=a(5,9,o),wifi_profile2=a(10,14,o),wifi_profile3=a(15,19,o),wifi_profile4=a(20,24,o),wifi_profile5=a(25,29,o)}var n={};return n.wifi_profile=wifi_profile,n.wifi_profile1=wifi_profile1,n.wifi_profile2=wifi_profile2,n.wifi_profile3=wifi_profile3,n.wifi_profile4=wifi_profile4,n.wifi_profile5=wifi_profile5,n.wifi_profile_num=t,i||(n.wisprFlag=1),n}function p(e,t,i){var a=e.split(";"),o="";return"previous"==i?(o=a[t],a[t]=a[t-1],a[t-1]=o):(o=a[t],a[t]=a[t+1],a[t+1]=o),a.join(";")}var f=this,_=o.map(i.AUTH_MODES_ALL,function(e){return new Option(e.name,e.value)}),u=o.map(i.ENCRYPT_TYPE_MODES,function(e){return new Option(e.name,e.value)}),h=o.map(i.KEY_ID_MODES,function(e){return new Option(e.name,e.value)}),w=g();f.hasWifiSwitch=i.WIFI_SWITCH_SUPPORT,f.hasGuestSSIDControl=i.WIFI_GUEST_SSID_ACCESS_SUPPORT,f.hasQRImg=i.WIFI_SUPPORT_QR_CODE,f.hasWifiMacFilter=i.WIFI_MAC_FILTER_SUPPORT,f.hasWifiDoubleChip=i.WIFI_DOUBLE_CHIP,f.hasMultiSSID=i.HAS_MULTI_SSID,f.showIsolated=i.SHOW_WIFI_AP_ISOLATED,f.wifi_enable=t.observable(w.wifiSwitch),f.accessPointEnable=t.observable(w.AccessPointSwitchStatus),f.originAccessPointEnable=t.observable(w.AccessPointSwitchStatus),f.isShowSSIDInfoDiv=t.observable(!1);var S=a.getParams({nv:"lan_sec_ssid_control"}).lan_sec_ssid_control;f.lan_sec_ssid_control=t.observable(S),i.WIFI_SWITCH_SUPPORT?"0"!=w.wifiSwitch?f.isShowSSIDInfoDiv(!0):f.isShowSSIDInfoDiv(!1):f.isShowSSIDInfoDiv(!0),f.origin_main_ssid_enable=w.wifiSwitch;var m=a.getWifiModuleSwitchStatus(),y=a.getWifiAccessPointInfo(),I=wifiFilterAPInfo(m,y,i.WIFICHIPINDEX.FIRST,i.ACCESSPOINTINDEX.SECOND,i.WIFICHIPINDEX,i.ACCESSPOINTINDEX);f.accessPoint24gEnable=t.observable(I.AccessPointSwitchStatus),f.page={list:1,add:2,addlist:3,edit:4};var w=a.getAPStationBasic();f.pageState=t.observable(f.page.list),f.origin_ap_station_enable=w.ap_station_enable,f.ap_station_enable=t.observable(w.ap_station_enable),f.ap_station_enable_show=t.observable(w.ap_station_enable),f.origin_ap_station_mode=w.ap_station_mode,f.ap_station_mode=t.observable(w.ap_station_mode),f.apSearchList=t.observable([]),f.apAddList=t.observable([]),f.profileName=t.observable(),f.ssid=t.observable(),f.modes=_,f.authMode=t.observable(),f.encryptType=t.observableArray(u),f.selectedencryptType=t.observable("NONE"),f.keyIDMode=t.observableArray(h),f.signal=t.observable("0"),f.keyID=t.observable("0"),f.password=t.observable(),f.showPassword=t.observable(!1),f.encryptType_WPA=t.observable("TKIPCCMP");var L=a.getParams({nv:"ip_passthrough_enabled"}).ip_passthrough_enabled;f.ipPassthroughEnabled=t.observable(L),f.apply=function(){function e(t){a.getWpsInfo({},function(a){"0"==a.radioFlag||"1"==a.radioFlag?f.callback(t,!0):i<=20?(i+=1,addTimeout(function(){e(t)},2e3)):f.callback(t,!0)})}function t(){showLoading();var t={};t.ap_station_enable=f.ap_station_enable(),t.ap_station_mode=f.ap_station_mode(),a.setAPStationBasic(t,function(t){setTimeout(function(){e(t)},2e3)})}if(!d()&&!r()){var i=0;if("0"==f.origin_ap_station_enable&&"1"==f.ap_station_enable()){a.getWifiBasic(),a.getWifiAdvance();"1"==f.accessPoint24gEnable()&&"1"==f.ap_station_enable()?showAlert("ap_station_enable_confirm"):showConfirm("wifi_disconnect_confirm",function(){t()})}else showConfirm("wifi_disconnect_confirm",function(){t()})}},f.showPasswordHandler_sbm=function(){e("label[class='error']","#frmSoftbankWifiSpot").hide();var t=e("#showPassword:checked");t&&0==t.length?f.showPassword(!0):f.showPassword(!1)},f.getSearchHotspot=function(){function t(){var o=a.getSearchHotspotList();o.scan_finish?(f.apSearchList(c(o.hotspotList)),e("#scanList").translate(),hideLoading()):i<=60?(i+=1,addTimeout(t,1e3)):(hideLoading(),showAlert("ap_station_search_hotspot_fail"))}var i=0;showLoading("internet_wifi_scanning"),a.searchHotspot({},function(e){e&&"success"==e.result?t():(hideLoading(),showAlert("ap_station_search_hotspot_fail"))})},f.updateSearchAPList=function(){a.getSearchHotspotListWithoutScanFinish({},function(t){f.apSearchList(c(t.hotspotList)),e("#scanList").translate()})},f.searchHotspot=function(){d()||r()||f.getSearchHotspot()},f.openAddPage=function(){d()||r()||(f.clear(),f.pageState(f.page.add))},f.openListPage=function(){d()||r()||(f.clear(),f.pageState(f.page.list),f.updateSearchAPList())},f.openAddListPage=function(){d()||r()||(f.clear(),f.getAddHotspot(),f.pageState(f.page.addlist))},openAddListEditPage=function(e){if(!d()&&!r()){var t=e.id.slice(14);b=t;var i=f.apAddList(),a=i[t];f.profileName(a.profileName),f.ssid(a.ssid),f.signal(a.signal),f.authMode(a.authMode),f.password(a.password),"WPAPSK"==a.authMode||"WPA2PSK"==a.authMode||"WPAPSKWPA2PSK"==a.authMode?f.encryptType_WPA(a.encryptType):f.selectedencryptType(a.encryptType),f.keyID(a.keyID),v=a.ssid,f.pageState(f.page.edit)}},f.clear=function(){f.ssid(""),f.authMode("OPEN"),f.password(""),f.selectedencryptType("NONE"),f.encryptType_WPA("TKIPCCMP"),f.keyID("0")},f.showPasswordHandler=function(){e("#pwdWepKey").parent().find(".error").hide(),e("#pwdWPAKey").parent().find(".error").hide();var t=e("#showPassword:checked");t&&0==t.length?f.showPassword(!0):f.showPassword(!1)},f.getAddHotspot=function(){var t=a.getHotspotList();f.apAddList(c(t.hotspotList)),e("#addList").translate()},wifiSpotSortNext=function(t){hideLoading();var i=a.getHotspotListSort(),o=i.wifi_profile;o=n(o,i.wifi_profile1),o=n(o,i.wifi_profile2),o=n(o,i.wifi_profile3),o=n(o,i.wifi_profile4),o=n(o,i.wifi_profile5),wifi_profile_num=parseInt(i.wifi_profile_num,10);var r=-1;1==e("#addList :radio[name='addListRadio']:checked").length&&(r=e("#addList :radio[name='addListRadio']:checked").attr("id").slice(12));var d=parseInt(r,10);o="next"==t?p(o,d,"next"):p(o,d,"previous");var c=s(o,wifi_profile_num,!0);a.setHotspotListSpan(c,function(e){"success"==e.result?(f.getAddHotspot(),successOverlay()):errorOverlay()})},f.addHotspot=function(){if(!d()){f.getAddHotspot();var e=f.ssid(),t=f.apAddList(),o=[];for(n=0;n<t.length;n++)o.push(t[n].ssid);for(var n=0;n<o.length;n++)if(e==o[n]&&(f.pageState()!=f.page.edit||f.pageState()==f.page.edit&&n!=b))return void showAlert("alert_exist_spot");if(!r()&&"802.1xEAP"!=f.authMode()){var s=(a.getAPStationBasic(),i.AP_STATION_LIST_LENGTH);if(f.pageState()==f.page.add&&f.apAddList().length>=s){showLoading();var c={},p=f.apAddList().length-1,l=parseInt(p,10);c.apList=f.apAddList();for(var n=p;n>=0&&"1"==c.apList[l].connectStatus;n--)l=n-1;l<0&&(l=0),c.profileName=c.apList[l].profileName,a.deleteHotspot(c,function(e){if("success"==e.result){var t={},i="";-1!=P&&(i=f.apAddList()[P].profileName),t.profileNameInit=i,f.pageState()==f.page.edit?t.profileName=i:t.profileName=RndNum(4),t.ssid=f.ssid(),t.signal=f.signal(),t.authMode=f.authMode(),t.password=f.password(),t.saveAddFlag=f.pageState(),"WPAPSK"==t.authMode||"WPA2PSK"==t.authMode||"WPAPSKWPA2PSK"==t.authMode?t.encryptType=f.encryptType_WPA():"SHARED"==t.authMode?t.encryptType="WEP":t.encryptType=f.selectedencryptType(),t.keyID=f.keyID(),f.getAddHotspot(),t.apList=f.apAddList(),a.saveHotspot(t,function(e){f.callback(e,!0)})}else errorOverlay()})}else{showLoading();var c={},_="";-1!=P&&(_=f.apAddList()[P].profileName),c.profileNameInit=_,f.pageState()==f.page.edit?c.profileName=_:c.profileName=RndNum(4),c.ssid=f.ssid(),c.signal=f.signal(),c.authMode=f.authMode(),c.password=f.password(),c.saveAddFlag=f.pageState(),"WPAPSK"==c.authMode||"WPA2PSK"==c.authMode||"WPAPSKWPA2PSK"==c.authMode?c.encryptType=f.encryptType_WPA():"SHARED"==c.authMode?c.encryptType="WEP":c.encryptType=f.selectedencryptType(),c.keyID=f.keyID(),f.getAddHotspot(),c.apList=f.apAddList(),a.saveHotspot(c,function(e){f.callback(e,!0)})}}}},f.addHotspot_for_scanList=function(e){a.getAPStationBasic({},function(t){var o=i.AP_STATION_LIST_LENGTH;if(f.apAddList().length>=o){showLoading();var n={},s=f.apAddList().length-1,r=parseInt(s,10);n.apList=f.apAddList(),r<0&&(r=0),n.profileName=n.apList[r].profileName,a.deleteHotspot(n,function(t){if("success"==t.result){var i={},o="";-1!=P&&(o=f.apAddList()[P].profileName),i.profileNameInit=o,i.profileName=RndNum(4),i.ssid=e.ssid,i.signal=e.signal,i.authMode=e.authMode,i.password=inputContext,i.saveAddFlag="2","WPAPSK"==i.authMode||"WPA2PSK"==i.authMode||"WPAPSKWPA2PSK"==i.authMode?i.encryptType=e.encryptType:"SHARED"==i.authMode?i.encryptType="WEP":i.encryptType=e.encryptType,i.keyID=void 0==currentKeyID?f.keyID():currentKeyID,f.getAddHotspot(),i.apList=f.apAddList(),a.saveHotspot(i,function(t){f.connectHotspot(e.ssid)})}else errorOverlay()})}else{var n={},d="";-1!=P&&(d=f.apAddList()[P].profileName),n.profileNameInit=d,n.profileName=RndNum(4),n.ssid=e.ssid,n.signal=e.signal,n.authMode=e.authMode,n.password=inputContext,n.saveAddFlag="2","WPAPSK"==n.authMode||"WPA2PSK"==n.authMode||"WPAPSKWPA2PSK"==n.authMode?n.encryptType=e.encryptType:"SHARED"==n.authMode?n.encryptType="WEP":n.encryptType=e.encryptType,n.keyID=void 0==currentKeyID?f.keyID():currentKeyID,f.getAddHotspot(),n.apList=f.apAddList(),a.saveHotspot(n,function(t){f.connectHotspot(e.ssid)})}})},deleteHotspot=function(){d()||r()||showConfirm("confirm_data_delete",function(){var t={},i=-1;1==e("#addList :radio[name='addListRadio']:checked").length&&(i=e("#addList :radio[name='addListRadio']:checked").attr("id").slice(12));var o=parseInt(i,10);f.getAddHotspot(),t.apList=f.apAddList(),t.profileName=t.apList[o].profileName;var n=!0;"1"==t.apList[o].connectStatus&&(n=!1,showAlert("ap_station_update_fail")),1==n&&(showLoading(),a.deleteHotspot(t,function(e){f.getAddHotspot(),f.callback(e,!1)}))})},f.computeButtonStatus=function(){P=-1,f.apAddList().length>0&&(P=1==e("#addList :radio[name='addListRadio']:checked").length?e("#addList :radio[name='addListRadio']:checked").attr("id").slice(12):-1),-1==P?e('#addListDiv input[type="button"]').removeAttr("enabled").attr("disabled","true"):(e('#addListDiv input[type="button"]').removeAttr("enabled").attr("disabled","true"),e("#addListBtnEdit"+P).removeAttr("disabled").attr("enabled","true"),e("#addListBtnDel"+P).removeAttr("disabled").attr("enabled","true"),e("#addList :radio[name='addListRadio']").length>1&&(0==P?e("#btnPrevious").removeAttr("disabled").attr("enabled","true"):P==e("#addList :radio[name='addListRadio']").length-1?e("#btnnext_step").removeAttr("disabled").attr("enabled","true"):(e("#btnnext_step").removeAttr("disabled").attr("enabled","true"),e("#btnPrevious").removeAttr("disabled").attr("enabled","true")))),e("#addCancel").removeAttr("disabled").attr("enabled","true")},f.disconnectHotspot=function(){showLoading("disconnecting"),a.disconnectHotspot({},function(e){f.callback(e,!0)})},f.connectHotspot=function(e){function t(){showLoading("connecting");var e={};e.EX_SSID1=s.ssid,e.EX_AuthMode=s.authMode,e.EX_EncrypType=s.encryptType,e.EX_DefaultKeyID=s.keyID,e.EX_WEPKEY=s.password,e.EX_WPAPSK1=s.password,e.EX_wifi_profile=s.profileName,a.connectHotspot(e,function(e){if(e&&"success"==e.result){addTimeout(i,3e3);var t=a.getStatusInfo();("ppp_connecting"==t.connectStatus||checkConnectedStatus(t.connectStatus))&&a.disconnect({},function(e){e.result})}else hideLoading(),errorOverlay()})}function i(){if((c+=1)>60)return hideLoading(),void errorOverlay();var e=a.getStatusInfo();"connecting"==e.connectWifiStatus||"disconnect"==e.connectWifiStatus?addTimeout(i,1e3):"connect"==e.connectWifiStatus?(f.updateSearchAPList(),successOverlay()):(hideLoading(),errorOverlay())}if(!d()&&!r()){f.getAddHotspot();for(var o=-1,n=0;n<f.apAddList().length;n++)if(e==f.apAddList()[n].ssid){o=n;break}var s="";-1!=o&&(s=f.apAddList()[o]),s.profileName;var c=0;if(-1==o)errorOverlay();else{var p=a.getStatusInfo();"ppp_connecting"==p.connectStatus||checkConnectedStatus(p.connectStatus)?showConfirm("ap_station_connect_change_alert",function(){showLoading("connecting"),t()}):t()}}},f.callback=function(t,i){t?(i&&(f.openListPage(),l(f),e("#apList").translate()),"success"==t.result?successOverlay():"spot_connecting"==t.result||"spot_connected"==t.result?showAlert("ap_station_update_fail"):errorOverlay()):errorOverlay()},f.checkSettings=function(e){var t=a.getStatusInfo().wifi_dfs_status;return"2"==t||"3"==t?(showAlert("cannot_set_when_radar_scaning"),!0):"1"==a.getWpsInfo().wpsFlag&&(showAlert("wps_on_info"),!0)},f.setMultiSSIDSwitch=function(){if(!f.checkSettings("switch")){var t=function(){showLoading();var t={};i.WIFI_SWITCH_SUPPORT&&(t.SwitchOption=f.wifi_enable(),f.lan_sec_ssid_control(e("#allowAccessCheckbox:checked").length>0?"0":"1"),t.lan_sec_ssid_control=f.lan_sec_ssid_control()),a.setWifiModuleSwitchStatus(t,function(e){"success"==e.result?f.checkWifiStatus():errorOverlay()})};"0"==f.wifi_enable()?showConfirm("wifi_off_alert",function(){t()}):t()}},f.checkWifiStatus=function(){function e(){var t=a.getWifiModuleSwitchStatus();"0"!=t.WiFiModuleSwitch&&"1"!=t.WiFiModuleSwitch?addTimeout(e,1e3):setTimeout(function(){successOverlay(),A&&setTimeout(function(){window.location.reload()},1e3),"1"==f.accessPointEnable()?f.originAccessPointEnable("1"):f.originAccessPointEnable("0"),clearTimer(),clearValidateMsg(),l(f),setTimeout(function(){f.updateSearchAPList()},2e3)},A?15e3:0)}setTimeout(function(){e()},2e3)}}function r(){var e=a.getWpsInfo();return"0"==e.radioFlag?(showAlert("wps_wifi_off"),!0):"1"==e.wpsFlag?(showAlert("wps_on_info"),!0):void 0}function d(){var e=a.getStatusInfo().wifi_dfs_status;if("2"==e||"3"==e)return showAlert("cannot_set_when_radar_scaning"),!0}function c(t){for(var i=0;i<t.length;i++){var a="";a="1"==t[i].connectStatus?"open"==t[i].authMode.toLowerCase()&&"none"==t[i].encryptType.toLowerCase()?"img/wifi_connected.png":"img/wifi_lock_connected.png":"open"==t[i].authMode.toLowerCase()&&"none"==t[i].encryptType.toLowerCase()?"img/wifi_signal_"+t[i].signal+".png":"img/wifi_lock_signal_"+t[i].signal+".png",t[i].imgSignal=a,"802.1xEAP"==t[i].authMode?t[i].authMode_show="802.1xEAP":(t[i].authMode_show=e.i18n.prop("ap_station_security_mode_"+t[i].authMode),("open"==t[i].authMode.toLowerCase()&&"wep"==t[i].encryptType.toLowerCase()||"shared"==t[i].authMode.toLowerCase())&&(t[i].authMode_show=e.i18n.prop("ap_station_security_mode_WEP"))),t[i].index=i}return t}function p(){a.getParams({nv:"user_ip_addr"},function(e){a.getParams({nv:"station_list"},function(t){A=isWifiConnected(e.user_ip_addr,t.station_list)})})}function l(n){function l(t,i){e("#addList").translate(),i.computeButtonStatus(),a.getSearchHotspotListWithoutScanFinish({},function(t){var a=c(t.hotspotList);if(e("#scanList img").length==a.length)for(var n=0;n<a.length;n++)e(e("#scanList img")[n]).attr("src",a[n].imgSignal);if(i.apSearchList().length!=a.length)i.apSearchList(a),e("#scanList").translate();else for(var n=0;n<a.length;n++){var s=o.clone(a[n]),r=o.clone(i.apSearchList()[n]);if(delete s.signal,delete s.imgSignal,delete r.signal,delete r.imgSignal,!o.isEqual(s,r)){i.apSearchList(a),e("#scanList").translate();break}}})}if(n){var f=a.getAPStationBasic();n.origin_ap_station_enable=f.ap_station_enable,n.ap_station_enable(f.ap_station_enable),n.ap_station_enable_show(f.ap_station_enable);var _=g();n.wifi_enable(_.wifiSwitch),n.accessPointEnable(_.AccessPointSwitchStatus),n.originAccessPointEnable(_.AccessPointSwitchStatus),n.isShowSSIDInfoDiv(!1);var u=a.getParams({nv:"lan_sec_ssid_control"}).lan_sec_ssid_control;n.lan_sec_ssid_control(u),i.WIFI_SWITCH_SUPPORT?"0"!=_.wifiSwitch?n.isShowSSIDInfoDiv(!0):n.isShowSSIDInfoDiv(!1):n.isShowSSIDInfoDiv(!0),n.origin_main_ssid_enable=_.wifiSwitch}else{var h=e("#container")[0];t.cleanNode(h),n=new s,t.applyBindings(n,h),addTimeout(function(){p()},600),e("#apList").translate(),e("#frmWifiSwitch").validate({submitHandler:function(){n.setMultiSSIDSwitch()}}),e("#frmAdd").validate({submitHandler:function(){n.addHotspot()},rules:{txtSSID:"ap_ssid",pwdWepKey:"wifi_wep_password_check",txtWepKey:"wifi_wep_password_check",pwdWPAKey:"wifi_password_check",txtWPAKey:"wifi_password_check"},errorPlacement:function(e,t){"pwdWepKey"==t.attr("name")||"txtWepKey"==t.attr("name")?e.insertAfter("#lblshowWEPPassword"):"pwdWPAKey"==t.attr("name")||"txtWPAKey"==t.attr("name")?e.insertAfter("#lblshowWPAPassword"):e.insertAfter(t)}}),connectAction=function(t){d()||r()||(showLoading("connecting"),a.disconnectHotspot({},function(i){if("success"==i.result){var a=t.id.slice(14),o=n.apSearchList()[a];n.getAddHotspot();var s=n.apAddList(),r=!0,d=-1;if(e.each(s,function(e,t){if(t.ssid==o.ssid)return r=!1,d=e,!1}),r)if("OPEN"!=o.authMode||"NONE"!=o.encryptType){var c="";"SHARED"!=o.authMode&&"WEP"!=o.encryptType||(c='<div class="margin-bottom-10"><label for="current_key_id" style="padding-left: 3px;" data-trans="ap_station_wep_default_key"></label>&nbsp;<select class="form-control" id="current_key_id" name="current_key_id"><option value="0" data-trans="ap_station_wep_key_0"></option><option value="1" data-trans="ap_station_wep_key_1"></option><option value="2" data-trans="ap_station_wep_key_2"></option><option value="3" data-trans="ap_station_wep_key_3"></option></select></div>');var p="valueUpdate:'keypress'";p=c+'<div><label for="current_pin_sbm" style="padding-left: 14px;" data-trans="password"></label>&nbsp;<input class="form-control" id="current_pin_sbm" name="current_pin_sbm" type="text" data-bind='+p+"></div>";var l={};e.extend(l,{title:"enter_password",img:"",msg:p}),showConfirm_sbm(l,function(){var e=checkPassword(inputContext,o);1==e?n.addHotspot_for_scanList(o):showAlert(e)})}else n.addHotspot_for_scanList(o);else addTimeout(function(){n.connectHotspot(o.ssid)},1e3)}else errorOverlay()}))},disconnectAction=function(e){d()||r()||n.disconnectHotspot()},1==n.ap_station_enable()&&n.updateSearchAPList()}l(!0,n),clearTimer(),addInterval(function(){l(!1,n)},1e3)}function f(e){var t=new Array;if(t=e.split("."),4!=t.length)return!1;if(t[0]=parseInt(t[0],10),t[1]=parseInt(t[1],10),t[2]=parseInt(t[2],10),t[3]=parseInt(t[3],10),0!=t[3]){if(255!=t[2]||255!=t[1]||255!=t[0])return!1;if(!_(t[3]))return!1}if(0!=t[2]){if(255!=t[1]||255!=t[0])return!1;if(!_(t[2]))return!1}if(0!=t[1]){if(255!=t[0])return!1;if(!_(t[1]))return!1}return 255==t[0]&&("0.0.0.0"!=e&&"255.255.255.255"!=e)}function _(e){return 255==e||254==e||252==e||248==e||240==e||224==e||192==e||128==e||0==e}function u(){return 0!=m.test(e("#sta_static_ip_gw").val())&&S(e("#sta_static_ip_addr").val(),e("#sta_static_ip_mask").val())===S(e("#sta_static_ip_gw").val(),e("#sta_static_ip_mask").val())}function h(){return""==e.trim(e("#sta_static_ip_dns1").val())||0!=m.test(e("#sta_static_ip_dns1").val())}function w(){return""==e.trim(e("#sta_static_ip_dns2").val())||!(""!=e.trim(e("#sta_static_ip_dns2").val())&&!m.test(e("#sta_static_ip_dns2").val()))}function S(e,t){for(var i=[],a=e.split("."),o=t.split("."),n=0;n<a.length;n++)i[n]=a[n]&o[n];return i.join(".")}function g(){var e=a.getWifiModuleSwitchStatus(),t=a.getWifiAccessPointInfo();return wifiFilterAPInfo(e,t,i.WIFICHIPINDEX.FIRST,i.ACCESSPOINTINDEX.FIRST,i.WIFICHIPINDEX,i.ACCESSPOINTINDEX)}var v,A=!1,P=-1,b=-1;e.validator.addMethod("subnetmask_check",function(e,t,i){var a=f(e);return this.optional(t)||a}),e.validator.addMethod("gateWay_check",function(e,t,i){return u()}),e.validator.addMethod("prefer_dns_manual_check",function(e,t,i){return h()}),e.validator.addMethod("standby_dns_manual_check",function(e,t,i){return w()});var m=/^((1?\d?\d|(2([0-4]\d|5[0-5])))\.){3}(1?\d?\d|(2([0-4]\d|5[0-5])))$/;return{init:l}});
//# sourceMappingURL=../../sourcemaps/wifi/ap_station.js.map

define(["jquery","knockout","config/config","service"],function(e,o,n,a){function l(){var e=this,n=a.getVoipSupplementaryService();e.voip_forwarding_modes=o.observableArray(i),e.selectedMode=o.observable(n.selectedMode),e.sipProtocolCallWaitingMode=o.observable(n.voip_call_waiting_enable),e.sipProtocolCallHoldMode=o.observable(n.voip_call_hold_enable),e.Way3ConferenceMode=o.observable(n.voip_three_way_talking_enable),e.callTransferMode=o.observable(n.voip_call_transfer_enable),e.unconditionalForwardMode=o.observable(n.voip_call_fwd_unconditional_enable),e.unconditionalForwardNum=o.observable(n.voip_call_fwd_unconditional_number),e.busyForwardMode=o.observable(n.voip_call_fwd_busy_enable),e.busyForwardNum=o.observable(n.voip_call_fwd_busy_number),e.noAnswerForwardMode=o.observable(n.voip_call_fwd_no_answer_enable),e.noAnswerForwardNum=o.observable(n.voip_call_fwd_no_answer_number),e.save=function(){showLoading();var o={};o.goformId="SIP_SET_SUPPLEMENTARY_SERVICE",o.voip_call_waiting_enable=e.sipProtocolCallWaitingMode(),o.voip_call_hold_enable=e.sipProtocolCallHoldMode(),o.voip_three_way_talking_enable=e.Way3ConferenceMode(),o.voip_call_transfer_enable=e.callTransferMode(),o.voip_call_fwd_unconditional_number=e.unconditionalForwardNum(),o.voip_call_fwd_busy_number=e.busyForwardNum(),o.voip_call_fwd_no_answer_number=e.noAnswerForwardNum(),"1"==e.unconditionalForwardMode()?(o.voip_call_fwd_busy_enable="0",o.voip_call_fwd_no_answer_enable="0",o.voip_call_fwd_unconditional_enable=e.unconditionalForwardMode()):(o.voip_call_fwd_busy_enable=e.busyForwardMode(),o.voip_call_fwd_no_answer_enable=e.noAnswerForwardMode(),o.voip_call_fwd_unconditional_enable="0"),a.setVoipSupplementaryService(o,function(e){"success"==e.result?(successOverlay(),showAlert("warn_information")):errorOverlay()})}}function r(){var n=e("#container");o.cleanNode(n[0]);var a=new l;o.applyBindings(a,e("#container")[0]),e("#voipSupplementaryServiveForm").validate({submitHandler:function(){a.save()},errorPlacement:function(e,o){e.insertAfter(o)}})}var i=_.map(n.FORWARDING_MODES,function(e){return new Option(e.name,e.value)});return{init:r}});
//# sourceMappingURL=../../sourcemaps/voip/voip_supplementary_service.js.map
